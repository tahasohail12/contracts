graph TD
    subgraph "🚀 Enhanced Smart Contracts"
        A[📱 MediaNFTMarketplace<br/>• NFT Minting<br/>• Buy/Sell/Rent<br/>• Royalty Distribution]
        B[📄 AdvancedLicenseManager<br/>• Multiple License Types<br/>• ETH & Token Payments<br/>• Usage Reporting]
        C[🔐 ContentAuthenticator<br/>• Content Registration<br/>• Verification System<br/>• Reputation Scoring]
        D[💰 MockERC20<br/>• Test Token<br/>• Payment Processing<br/>• License Fees]
    end
    
    subgraph "📜 Legacy Contracts (Backward Compatibility)"
        E[📝 MediaRegistry<br/>• Basic Registration<br/>• Hash Storage]
        F[🎨 NFTMinting<br/>• Simple NFT Creation<br/>• ERC721 Standard]
        G[⚖️ LicenseManager<br/>• Basic Licensing<br/>• Owner Mapping]
    end
    
    subgraph "🔧 OpenZeppelin Base Contracts"
        H[🎭 ERC721<br/>• NFT Standard<br/>• Token Management]
        I[💎 ERC20<br/>• Token Standard<br/>• Transfer Logic]
        J[👑 Ownable<br/>• Access Control<br/>• Admin Functions]
        K[🛡️ ReentrancyGuard<br/>• Security Protection<br/>• Attack Prevention]
        L[💰 ERC2981<br/>• Royalty Standard<br/>• Fee Distribution]
    end
    
    %% Enhanced Contract Relationships
    A --> H
    A --> J
    A --> K
    A --> L
    B --> J
    B --> K
    C --> J
    D --> I
    
    %% Legacy Contract Relationships
    F --> H
    G --> J
    
    %% Inter-Contract Communication
    A -.-> C
    A -.-> B
    B -.-> D
    A -.-> E
    
    %% Styling
    style A fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    style B fill:#f3e5f5,stroke:#7b1fa2,stroke-width:3px
    style C fill:#e8f5e8,stroke:#388e3c,stroke-width:3px
    style D fill:#fff3e0,stroke:#f57c00,stroke-width:3px
    style E fill:#fafafa,stroke:#616161,stroke-width:2px
    style F fill:#fafafa,stroke:#616161,stroke-width:2px
    style G fill:#fafafa,stroke:#616161,stroke-width:2px
    style H fill:#ffebee,stroke:#c62828,stroke-width:2px
    style I fill:#ffebee,stroke:#c62828,stroke-width:2px
    style J fill:#ffebee,stroke:#c62828,stroke-width:2px
    style K fill:#ffebee,stroke:#c62828,stroke-width:2px
    style L fill:#ffebee,stroke:#c62828,stroke-width:2px
