sequenceDiagram
    participant U as ğŸ‘¤ User
    participant F as ğŸ’» Frontend
    participant B as ğŸ–¥ï¸ Backend
    participant W as ğŸ¦Š MetaMask
    participant BC as â›“ï¸ Blockchain
    participant DB as ğŸ—„ï¸ Database
    
    Note over U,DB: NFT Minting Flow
    
    U->>F: ğŸ¨ Click "Mint NFT"
    F->>B: ğŸ” Validate Content Exists
    B->>DB: ğŸ“Š Check Content Registration
    DB-->>B: âœ… Content Found
    B-->>F: âœ… Validation Success
    
    F->>W: ğŸ”— Request Wallet Connection
    W-->>F: ğŸ”‘ Wallet Connected
    
    F->>W: ğŸ“ Request Transaction Signature<br/>mintContentNFT()
    W->>U: ğŸ’° Confirm Transaction<br/>(Gas Fee Estimate)
    U-->>W: âœ… Approve Transaction
    
    W->>BC: ğŸ“¤ Submit Transaction
    BC->>BC: â›“ï¸ Process Transaction<br/>â€¢ Verify Content Hash<br/>â€¢ Mint ERC721 Token<br/>â€¢ Set Royalties<br/>â€¢ Update State
    
    BC-->>W: ğŸ“„ Transaction Receipt<br/>(Token ID, Gas Used)
    W-->>F: ğŸ‰ Transaction Success
    
    BC->>BC: ğŸ“¡ Emit ContentNFTMinted Event
    F->>B: ğŸ”„ Listen for Event
    B->>DB: ğŸ’¾ Update Media Record<br/>(Set nftTokenId)
    
    F->>F: ğŸ”„ Update UI State
    F-->>U: ğŸ‰ NFT Minted Successfully<br/>Token ID: #123
    
    Note over U,DB: Error Handling
    
    BC-->>W: âŒ Transaction Failed
    W-->>F: âš ï¸ Error Details
    F->>F: ğŸ”„ Parse Error Message
    F-->>U: âŒ User-Friendly Error<br/>+ Retry Option
