sequenceDiagram
    participant U as ğŸ‘¤ User
    participant F as ğŸ’» React Frontend
    participant B as ğŸ–¥ï¸ Backend API
    participant I as ğŸŒ IPFS Network
    participant DB as ğŸ—„ï¸ MongoDB
    participant BC as â›“ï¸ Blockchain
    participant W as ğŸ¦Š MetaMask
    
    Note over U,W: Content Upload & Authentication Flow
    
    U->>F: ğŸ“ Select & Upload File
    F->>F: âœ… Validate File<br/>(Size: 50MB, Type, Malware)
    
    F->>B: ğŸ“¤ POST /api/media/upload<br/>(FormData)
    B->>B: ğŸ” Generate SHA256 Hash
    B->>B: ğŸ“‹ Extract Metadata
    B->>B: ğŸ” Check Duplicates
    
    B->>I: â¬†ï¸ Upload to IPFS
    I-->>B: ğŸ“ Return IPFS Hash (CID)
    
    B->>DB: ğŸ’¾ Save Media Document<br/>(Hash, Metadata, IPFS Hash)
    DB-->>B: âœ… Document Saved
    
    B->>BC: ğŸ“ Call registerMedia()
    BC-->>B: ğŸ“„ Transaction Receipt
    
    B-->>F: ğŸ‰ Success Response<br/>(Hash, IPFS Hash, TX Hash)
    F-->>U: âœ… Upload Complete
    
    Note over U,BC: Verification Flow
    
    U->>F: ğŸ” Upload File for Verification
    F->>B: ğŸ“¤ POST /api/media/verify
    B->>B: ğŸ” Generate File Hash
    B->>DB: ğŸ” Query by Hash
    DB-->>B: ğŸ“Š Match Result
    B->>BC: ğŸ” Verify on Blockchain
    BC-->>B: âœ… Verification Status
    B-->>F: ğŸ“‹ Verification Report
    F-->>U: ğŸ“Š Authenticity Result
